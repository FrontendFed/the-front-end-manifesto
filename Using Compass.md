Using Compass
-------------

Setting up your application:

1.  Add 'compass-rails' to your gemfile. For more explicit directions from the gem source take a look at: [compass-rails][]

2.  Run "bundle exec compass init" and then delete the 3 stylesheets generated by Compass. We're going to use our own.

3.  Add the following commented out code to your config/compass.rb file generated in step one:

        # To allow compass to import partials from subdirectories per:
        # http://blog.55minutes.com/2012/01/getting-compass-to-work-with-rails-31-and-32/
        # additional_import_paths = ["app/assets/stylesheets/<name>", "app/assets/stylesheets/<name>"]
        #
        # To compile in the necessary debugging information for FireSass.
        # sass_options = {:debug_info => true}

    I add these because chances are I may need them. You should definitely check out [FireSass][]. It allows you to see exactly which sass partial styles are coming from.

4.  Delete your application.css file and replace with application.scss. 

    NOTE: Your base application file needs to use the .scss syntax, however, other partials can use the .sass syntax, which is my preference.

5.  Use @import to organize styles rather than Sprockets. Add the following reminder at the top of application.scss:
        
        /*
         * Important! Do *not* use Sprockets "require" syntax.
         * Use @import to include other stylesheets and Compass mixins.
         */

    NOTE: You can use sprockets require syntax, however per the explanation found at of the [compass-rails][] gem source it is probably not a good idea.

6.  If you find your system has a problem with sass partials and underscores when precompiling, add the following to your config/application.rb file:

        # Precompile *all* assets, except those that start with underscore per:
        # http://blog.55minutes.com/2012/01/getting-compass-to-work-with-rails-31-and-32/
        config.assets.precompile << /(^[^_\/]|\/[^_])[^\/]*$/

That's pretty much it!

The [CSS Organization][] chapter of this book describes how I organize my styles within application.scss and more. The [HTML Organization][] chapter covers how I organize my layouts and shared files.

I highly recommend using the [CSS base][] styles associated with this book.

Some additional resources for working with Compass include:

- [Getting Compass to Work With Rails 3.1 (and 3.2)][Getting Compass to Work]
- [How I Use Compass With Rails 3.1][How I Use Compass]
- [Sass, Compass, and the Rails 3.1 Asset Pipeline][Asset Pipeline]

[compass-rails]:           https://github.com/Compass/compass-rails
[FireSass]:                https://addons.mozilla.org/en-US/firefox/addon/firesass-for-firebug/
[CSS Organization]:        https://github.com/maxxiimo/railsviews/blob/master/CSS%20Organization.md
[HTML Organization]:       https://github.com/maxxiimo/railsviews/blob/master/HTML%20Organization.md
[CSS base]:                https://github.com/maxxiimo/css-base
[Getting Compass to Work]: http://blog.55minutes.com/2012/01/getting-compass-to-work-with-rails-31-and-32/
[How I Use Compass]:       http://austintech.com/blog/2011/08/19/how-i-use-compass-with-rails-3-1/
[Asset Pipeline]:          http://www.engineyard.com/blog/2011/sass-compass-and-the-rails-3-1-asset-pipeline/
