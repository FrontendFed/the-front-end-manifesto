Using Compass
-------------

Setting up your application:

1.  Add 'compass-rails' to your gemfile, follow the directions here: [compass-rails][]

2.  After you run "bundle exec compass init" delete the 3 stylesheets generated by Compass.

3.  Add the following commented out code to your config/compass.rb file generated in step one:

        # To allow compass to import partials from subdirectories per:
        # http://blog.55minutes.com/2012/01/getting-compass-to-work-with-rails-31-and-32/
        # additional_import_paths = ["app/assets/stylesheets/<name>", "app/assets/stylesheets/<name>"]
        #
        # To compile in the necessary debugging information for FireSass.
        # sass_options = {:debug_info => true}

    ...You may need these things, and definitely check out [FireSass][].

4.  Delete your application.css file and replace with application.scss. 

    NOTE: Your base application file needs to use the .scss syntax, however, other partials can use the .sass syntax, which is my preference.

5.  Use @import to organize styles rather than Sprockets, and add the following reminder at the top of application.scss:
        
        /*
         * Important! Do *not* use Sprockets "require" syntax.
         * Use @import to include other stylesheets and Compass mixins.
         */

    I use the structure found in the CSS Organization section below.

    NOTE: You can use sprockets require syntax, however per [compass-rails][] it is probably not a good idea.

6.  If I were you I would just use my [CSS base][], or parts of it.

7.  If you have a problem with the underscores and precompiling, add the following code to your config/application.rb file:

        # Precompile *all* assets, except those that start with underscore per:
        # http://blog.55minutes.com/2012/01/getting-compass-to-work-with-rails-31-and-32/
        config.assets.precompile << /(^[^_\/]|\/[^_])[^\/]*$/

8.  And that's pretty much it. Don't forget to reference in your application layout. The HTML section below covers how I organize my layouts and shared files.

This is a great resource:

[Getting Compass to Work With Rails 3.1 (and 3.2)][Getting Compass to Work]

Here are some other resources that I have found useful:

[How I Use Compass With Rails 3.1][How I Use Compass]
[Sass, Compass, and the Rails 3.1 Asset Pipeline][Asset Pipeline]


[compass-rails]:           https://github.com/Compass/compass-rails
[FireSass]:                https://addons.mozilla.org/en-US/firefox/addon/firesass-for-firebug/
[CSS base]:                https://github.com/maxxiimo/css-base
[Getting Compass to Work]: http://blog.55minutes.com/2012/01/getting-compass-to-work-with-rails-31-and-32/
[How I Use Compass]:       http://austintech.com/blog/2011/08/19/how-i-use-compass-with-rails-3-1/
[Asset Pipeline]:          http://www.engineyard.com/blog/2011/sass-compass-and-the-rails-3-1-asset-pipeline/
